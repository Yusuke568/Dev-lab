# 勤務報告書テンプレート化システム要件定義書
## 03. 非機能要件定義書

### 3.1 性能要件

#### 3.1.1 応答性能
| 項目 | 要件 | 測定方法 |
|------|------|----------|
| 画面表示速度 | 3秒以内 | ページロード完了時間 |
| データ更新処理 | 2秒以内 | データベース更新完了時間 |
| 検索処理 | 5秒以内 | 検索結果表示完了時間 |
| レスポンシブ表示 | 1秒以内 | 画面リサイズ完了時間 |

#### 3.1.2 スループット
| 項目 | 要件 | 条件 |
|------|------|------|
| 同時アクセス数 | 100ユーザー | 通常業務時間帯 |
| ピーク時アクセス数 | 300ユーザー | 月末締日 |
| データ処理件数 | 1000件/分 | バッチ処理時 |

#### 3.1.3 容量
| 項目 | 初期容量 | 年間増加量 | 最大容量 |
|------|---------|-----------|---------|
| データベース | 1GB | 500MB | 5GB |
| 添付ファイル | 100MB | 1GB | 10GB |
| ログファイル | 50MB | 200MB | 2GB |

### 3.2 可用性要件

#### 3.2.1 稼働時間
- **稼働時間**: 24時間365日
- **計画停止**: 月1回、日曜日深夜2:00-4:00（最大2時間）
- **目標稼働率**: 99.5%以上

#### 3.2.2 障害対応
| レベル | 対応時間 | 復旧時間 | 対象範囲 |
|--------|---------|---------|---------|
| レベル1（重大） | 30分以内 | 4時間以内 | システム全体停止 |
| レベル2（重要） | 1時間以内 | 8時間以内 | 主要機能停止 |
| レベル3（軽微） | 2時間以内 | 24時間以内 | 一部機能制限 |

### 3.3 拡張性要件

#### 3.3.1 ユーザー数拡張
- **初期ユーザー数**: 100名
- **年間増加想定**: 50名
- **最大対応ユーザー数**: 500名

#### 3.3.2 機能拡張
- モジュール追加による機能拡張対応
- Web API経由の外部システム連携対応
- プラグイン機構による柔軟な機能追加

#### 3.3.3 データ量拡張
- パーティショニングによる大容量データ対応
- アーカイブ機能による過去データ管理
- インデックス最適化による検索性能維持

### 3.4 セキュリティ要件

#### 3.4.1 認証・認可
| 項目 | 要件 | 実装方式 |
|------|------|---------|
| ユーザー認証 | セッション管理 | Cookie + Session |
| パスワード要件 | 8文字以上、英数記号 | 複雑度チェック |
| セッションタイムアウト | 8時間 | 自動ログアウト |
| 権限管理 | 役職別アクセス制御 | RBAC |

#### 3.4.2 データ保護
- **データ暗号化**: 個人情報のAES256暗号化
- **通信暗号化**: HTTPS(TLS1.2以上)必須
- **データベース暗号化**: 機密データのテーブル暗号化
- **バックアップ暗号化**: バックアップファイルの暗号化

#### 3.4.3 監査ログ
| 対象操作 | 記録内容 | 保管期間 |
|---------|---------|---------|
| ログイン/ログアウト | ユーザーID、時刻、IPアドレス | 1年 |
| データ更新 | ユーザーID、更新内容、時刻 | 3年 |
| 権限変更 | 管理者ID、対象ユーザー、変更内容 | 5年 |
| システムエラー | エラー内容、発生時刻、スタックトレース | 1年 |

### 3.5 互換性要件

#### 3.5.1 ブラウザ対応
| ブラウザ | 対応バージョン | 備考 |
|---------|---------------|------|
| Google Chrome | 最新版含む直近3バージョン | 推奨ブラウザ |
| Mozilla Firefox | 最新版含む直近3バージョン | 対応ブラウザ |
| Microsoft Edge | 最新版含む直近2バージョン | 対応ブラウザ |
| Safari | 最新版含む直近2バージョン | macOS/iOS対応 |

#### 3.5.2 デバイス対応
| デバイス種別 | 画面サイズ | 対応内容 |
|-------------|-----------|---------|
| デスクトップPC | 1920×1080以上 | フル機能対応 |
| ノートPC | 1366×768以上 | フル機能対応 |
| タブレット | 1024×768以上 | タッチ操作対応 |
| スマートフォン | 375×667以上 | モバイル最適化 |

#### 3.5.3 OS対応
- **Windows**: Windows 10以降
- **macOS**: macOS 10.15以降
- **iOS**: iOS 13以降
- **Android**: Android 9以降

### 3.6 運用・保守要件

#### 3.6.1 バックアップ
| バックアップ種別 | 頻度 | 保管期間 | 保管場所 |
|----------------|------|---------|---------|
| フルバックアップ | 週1回（日曜日） | 3ヶ月 | 外部ストレージ |
| 差分バックアップ | 日1回（深夜） | 1ヶ月 | ローカルストレージ |
| ログバックアップ | 日1回 | 1年 | ローカルストレージ |

#### 3.6.2 監視項目
| 監視項目 | 監視間隔 | しきい値 | 通知方法 |
|---------|---------|---------|---------|
| CPU使用率 | 1分 | 80%以上 | メール |
| メモリ使用率 | 1分 | 85%以上 | メール |
| ディスク使用率 | 5分 | 90%以上 | メール |
| レスポンス時間 | 1分 | 5秒以上 | メール |
| エラー発生率 | 1分 | 5%以上 | メール・SMS |

#### 3.6.3 ログ管理
| ログ種別 | 出力レベル | ローテーション | 保管期間 |
|---------|-----------|---------------|---------|
| アプリケーションログ | INFO以上 | 日次 | 3ヶ月 |
| アクセスログ | 全件 | 日次 | 1年 |
| エラーログ | ERROR以上 | サイズ(10MB) | 1年 |
| セキュリティログ | 全件 | 日次 | 3年 |

### 3.7 災害対策要件

#### 3.7.1 データ復旧
- **RTO（Recovery Time Objective）**: 4時間以内
- **RPO（Recovery Point Objective）**: 1時間以内
- **バックアップ戦略**: 3-2-1ルール適用

#### 3.7.2 事業継続
- **代替サイト**: クラウド環境での緊急稼働
- **データ同期**: リアルタイムレプリケーション
- **復旧手順書**: 詳細な復旧手順の文書化

### 3.8 開発・テスト要件

#### 3.8.1 開発環境
- **バージョン管理**: Git
- **ビルド自動化**: Maven/Gradle
- **コード品質**: SonarQube
- **単体テスト**: JUnit5、カバレッジ80%以上

#### 3.8.2 テスト要件
| テスト種別 | 実施時期 | 合格基準 |
|-----------|---------|---------|
| 単体テスト | 開発中 | カバレッジ80%以上 |
| 統合テスト | 機能完成時 | 全テストケース合格 |
| システムテスト | リリース前 | 性能・品質基準クリア |
| ユーザビリティテスト | リリース前 | ユーザー満足度80%以上 |

### 3.9 制約事項

#### 3.9.1 技術的制約
- 既存データベース構造の大幅変更は不可
- Java8以上のバージョン使用必須
- Apache Tomcat 9.0環境での動作必須

#### 3.9.2 運用制約
- 平日営業時間中のシステム停止は原則禁止
- 個人情報保護法に準拠したデータ取り扱い
- 社内セキュリティポリシーの遵守

#### 3.9.3 予算制約
- ハードウェア追加購入は最小限に抑制
- オープンソースソフトウェアの積極活用
- クラウドサービス利用時はコスト最適化

---
*文書作成日: 2025年9月14日*  
*文書バージョン: 1.0*